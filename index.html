<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jogo da Mem√≥ria</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background: #222;
      color: white;
    }

    h1 {
      margin: 20px;
    }

    #timer {
      font-size: 20px;
      margin-bottom: 15px;
    }

    .memory-game {
      width: 640px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(4, 150px);
      grid-gap: 10px;
    }

    .memory-card {
      width: 150px;
      height: 150px;
      background: #444;
      border-radius: 10px;
      cursor: pointer;
      position: relative;
      transform: scale(1);
      transition: transform 0.3s;
      transform-style: preserve-3d;
    }

    .memory-card.flip {
      transform: rotateY(180deg);
    }

    .front, .back {
      width: 100%;
      height: 100%;
      position: absolute;
      border-radius: 10px;
      backface-visibility: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 20px;
      font-weight: bold;
      color: black;
    }

    .front {
      background: white;
      transform: rotateY(180deg);
    }

    .back {
      background: #00aaff;
      color: white;
    }

    img {
      max-width: 100%;
      max-height: 100%;
      border-radius: 10px;
    }

    /* Tela inicial */
    #tela-inicial {
      width: 80%;
      max-width: 500px;
      margin: 50px auto;
      background: #222;
      color: white;
      padding: 20px;
      border-radius: 10px;
      text-align: center;
    }

    #tela-inicial button {
      padding: 10px 20px;
      font-size: 16px;
      margin-top: 20px;
      cursor: pointer;
      border: none;
      border-radius: 5px;
      background-color: #00aaff;
      color: white;
    }

    /* Esconde o jogo inicialmente */
    #game-container {
      display: none;
    }
  </style>
</head>
<body>

  <!-- Tela inicial -->
  <div id="tela-inicial">
    <h1>Jogo da Mem√≥ria</h1>
    <p>Encontre os pares corretos de palavras e imagens!</p>
    <p><strong>Regras:</strong></p>
    <ul>
      <li>Clique em uma carta para vir√°-la.</li>
      <li>Tente encontrar o par correspondente (palavra ‚Üî imagem).</li>
      <li>O jogo termina quando todos os pares forem encontrados.</li>
      <li>O tempo ser√° contado em minutos e segundos.</li>
      <li>Voc√™ tem 5 minutos para completar o jogo.</li>
    </ul>
    <button id="btn-iniciar">Iniciar Jogo</button>
  </div>

  <!-- Jogo (tabuleiro) -->
  <div id="game-container">
    <p id="timer">Tempo: 5:00</p>
    <div class="memory-game" id="game"></div>
  </div>

  <script>
    // Seletores
    const telaInicial = document.getElementById("tela-inicial");
    const gameContainer = document.getElementById("game-container");
    const btnIniciar = document.getElementById("btn-iniciar");

    // Evento para iniciar o jogo
    btnIniciar.addEventListener("click", () => {
      telaInicial.style.display = "none";
      gameContainer.style.display = "block";

      criarTabuleiro();
      iniciarCronometro();
    });

    // ---- JOGO DA MEM√ìRIA ----

    const cardsData = [
      { type: "img", content: "elefante.png", pair: "elefante" },
      { type: "img", content: "elefante.png", pair: "elefante" },

      { type: "img", content: "esponja.png", pair: "esponja" },
      { type: "img", content: "esponja.png", pair: "esponja" },

      { type: "img", content: "flor.png", pair: "flor" },
      { type: "img", content: "flor.png", pair: "flor" },

      { type: "img", content: "estrela.png", pair: "estrela" },
      { type: "img", content: "estrela.png", pair: "estrela" },

      { type: "img", content: "peixe.png", pair: "peixe" },
      { type: "img", content: "peixe.png", pair: "peixe" },
    ];

    const game = document.getElementById("game");
    const timerEl = document.getElementById("timer");

    let shuffled, hasFlipped = false, lockBoard = false, firstCard, secondCard, matches = 0;
    let tempo = 300; // 5 minutos
    let intervalo = null;

    // Fun√ß√£o para criar o tabuleiro
    function criarTabuleiro() {
      shuffled = cardsData.sort(() => 0.5 - Math.random());
      shuffled.forEach(card => {
        const cardEl = document.createElement("div");
        cardEl.classList.add("memory-card");
        cardEl.dataset.pair = card.pair;

        const front = document.createElement("div");
        front.classList.add("front");
        if (card.type === "word") {
          front.textContent = card.content;
        } else {
          const img = document.createElement("img");
          img.src = card.content;
          front.appendChild(img);
        }

        const back = document.createElement("div");
        back.classList.add("back");
        back.textContent = "?";

        cardEl.appendChild(front);
        cardEl.appendChild(back);
        game.appendChild(cardEl);

        cardEl.addEventListener("click", flipCard);
      });
    }

    // ---- CRON√îMETRO ----
    function atualizarTimer() {
      const minutos = Math.floor(tempo / 60);
      const segundos = tempo % 60;
      timerEl.textContent = `Tempo: ${minutos}:${segundos.toString().padStart(2, "0")}`;
    }

    function iniciarCronometro() {
      atualizarTimer(); // mostra o tempo inicial
      intervalo = setInterval(() => {
        tempo--;
        atualizarTimer();

        if (tempo <= 0) {
          clearInterval(intervalo);
          alert("‚è∞ Tempo esgotado! Tente novamente.");
          // opcional: bloquear tabuleiro
          lockBoard = true;
        }
      }, 1000);
    }

    function pararCronometro() {
      clearInterval(intervalo);
    }

    // ---- FUN√á√ïES DO JOGO ----
    function flipCard() {
      if (lockBoard) return;
      if (this === firstCard) return;

      this.classList.add("flip");

      if (!hasFlipped) {
        hasFlipped = true;
        firstCard = this;
        return;
      }

      secondCard = this;
      checkMatch();
    }

    function checkMatch() {
      if (firstCard.dataset.pair === secondCard.dataset.pair) {
        disableCards();
      } else {
        unflipCards();
      }
    }

    function disableCards() {
      firstCard.removeEventListener("click", flipCard);
      secondCard.removeEventListener("click", flipCard);

      matches++;
      if (matches === cardsData.length / 2) {
        pararCronometro();
        const tempoGasto = 300 - tempo;
        const minutos = Math.floor(tempoGasto / 60);
        const segundos = tempoGasto % 60;
        setTimeout(() => {
          alert(`üéâ Parab√©ns! Voc√™ encontrou todos os pares em ${minutos}:${segundos.toString().padStart(2, "0")} minutos!`);
        }, 500);
      }

      resetBoard();
    }

    function unflipCards() {
      lockBoard = true;
      setTimeout(() => {
        firstCard.classList.remove("flip");
        secondCard.classList.remove("flip");
        resetBoard();
      }, 1000);
    }

    function resetBoard() {
      [hasFlipped, lockBoard] = [false, false];
      [firstCard, secondCard] = [null, null];
    }
  </script>
</body>
</html>

